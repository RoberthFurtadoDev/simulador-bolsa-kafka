## üìà Simulador de Ativos da Bolsa de Valores com Java, Spring Boot e Apache Kafka

Este projeto simula um ambiente de processamento de dados financeiros em tempo real, utilizando uma arquitetura de microsservi√ßos reativa e orientada a eventos. A aplica√ß√£o consiste em um servi√ßo que gera cota√ß√µes de a√ß√µes (**Producer**) e outro que consome essas cota√ß√µes para monitorar alertas de pre√ßos definidos pelo usu√°rio (**Consumer**).

Este √© um projeto de portf√≥lio, idealizado para demonstrar compet√™ncias avan√ßadas em desenvolvimento back-end, arquitetura de software e tecnologias de streaming de dados.

---
## üèóÔ∏è Arquitetura do Sistema

A arquitetura foi desenhada para ser desacoplada, resiliente e escal√°vel, seguindo os princ√≠pios de microsservi√ßos. A comunica√ß√£o entre os servi√ßos √© feita de forma ass√≠ncrona atrav√©s do **Apache Kafka**, que atua como a espinha dorsal do sistema.

```mermaid
graph TD
    subgraph "Ambiente de Execu√ß√£o"
        A[üë§ Usu√°rio via Postman]
        B[micro: market-data-simulator - Producer]
        C[fa:fa-server Kafka Cluster]
        D[micro: portfolio-monitor - Consumer & API]
    end

    style B fill:#d4edda,stroke:#155724
    style D fill:#cce5ff,stroke:#004085
    style C fill:#f8d7da,stroke:#721c24

    B -- Publica cota√ß√µes (JSON) --> C(T√≥pico: cotacoes_acoes)
    C -- Entrega cota√ß√µes --> D
    A -- POST /alerts (JSON) --> D
    D -- Salva Alerta em Mem√≥ria --> D
    D -- Dispara Alerta (Log) --> D
```
---

## ‚ú® Decis√µes T√©cnicas e Arquiteturais

* **Microsservi√ßos:** separa√ß√£o em *market-data-simulator* e *portfolio-monitor* para permitir evolu√ß√£o e escalabilidade independentes.
* **Apache Kafka como Message Broker:** escolhido pela alta vaz√£o, toler√¢ncia a falhas e persist√™ncia de eventos.
* **Arquitetura Limpa / Hexagonal:** organiza√ß√£o em `domain`, `application`, `infrastructure` para isolar regras de neg√≥cio dos detalhes de infraestrutura.
* **Comunica√ß√£o Ass√≠ncrona:** eventos desacoplam produtor e consumidores, facilitando expans√£o do ecossistema.
* **Docker & Docker Compose:** ambiente reproduc√≠vel para desenvolvimento e testes locais.

---

## üõ†Ô∏è Tecnologias Utilizadas

| Tecnologia       | Vers√£o/Tipo | Descri√ß√£o/Prop√≥sito                                           |
| ---------------- | ----------- | ------------------------------------------------------------- |
| Java             | 21          | Linguagem principal; uso de recursos modernos (Records, etc.) |
| Spring Boot      | 3.x         | Framework para microsservi√ßos                                 |
| Apache Kafka     | 3.x         | Plataforma de streaming e message broker                      |
| Spring for Kafka | -           | Integra√ß√£o simplificada com Kafka                             |
| Docker           | -           | Cont√™ineres para executar Kafka e depend√™ncias                |
| Maven            | -           | Build e gerenciamento de depend√™ncias                         |
| Lombok           | -           | Redu√ß√£o de boilerplate                                        |
| Postman          | -           | Testes da API de alertas                                      |

---

## üöÄ Como Rodar o Projeto

### Pr√©-requisitos

* Git
* JDK 21 (ou superior)
* Maven 3.8+
* Docker e Docker Compose

### Passo 1 ‚Äî Clone o Reposit√≥rio

```bash
git clone <URL_DO_SEU_REPOSITORIO>
cd <NOME_DA_PASTA_DO_PROJETO>
```

### Passo 2 ‚Äî Inicie o Ambiente Kafka com Docker

```bash
docker-compose up -d
```

Aguarde os cont√™ineres subirem. A UI do Kafka (se configurada) costuma ficar em `http://localhost:8080`.

### Passo 3 ‚Äî Execute o microsservi√ßo Producer

```bash
cd market-data-simulator
mvn spring-boot:run
```

O servi√ßo publicar√° cota√ß√µes periodicamente (ex.: 2 segundos).

### Passo 4 ‚Äî Execute o microsservi√ßo Consumer

```bash
cd portfolio-monitor
mvn spring-boot:run
```

O servi√ßo consumir√° as cota√ß√µes e expor√° a API para cria√ß√£o de alertas.

---

## ‚öôÔ∏è Como Usar a Aplica√ß√£o

### 1) Registrar um Alerta de Pre√ßo

Exemplo com `curl`:

```bash
curl -X POST http://localhost:8082/alerts \
-H "Content-Type: application/json" \
-d '{
      "symbol": "PETR4",
      "targetPrice": 50.00
    }'
```

* M√©todo: `POST`
* URL: `http://localhost:8082/alerts`
* Body: JSON com `symbol` e `targetPrice`

Resposta esperada: `202 Accepted`.

### 2) Observar os Logs

* `Received stock tick...` para cada cota√ß√£o consumida.
* `!!! ALERT TRIGGERED !!!` quando o pre√ßo atingir o alvo configurado.

---

## üîÆ Pr√≥ximos Passos (Sugest√µes)

* Implementar um microsservi√ßo para c√°lculo de indicadores com **Kafka Streams**.
* Persistir alertas em um banco (PostgreSQL, MongoDB).
* Criar um dashboard em tempo real (WebSockets) para visualizar cota√ß√µes e alertas.
* Adicionar um servi√ßo de notifica√ß√£o para simular envio de e-mails / push.

---

## üë®‚Äçüíª Autor

Projeto desenvolvido como parte do meu portf√≥lio pessoal. Sinta-se √† vontade para explorar, testar e contribuir.

**\[Roberth Furtado Ferreira de Oliveira]**

* LinkedIn: \[https://www.linkedin.com/in/roberthfurtado/]
* GitHub: \[https://github.com/RoberthFurtadoDev]
